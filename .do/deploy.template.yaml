spec:
  name: llm-gateway
  region: nyc
  databases:
    - name: dev-db
      engine: PG
  services:
    - name: api
      github:
        repo: diogoaav/llm-gateway
        branch: main
        deploy_on_push: true
      dockerfile_path: ""
      build_command: ""
      run_command: uvicorn app.main:app --host 0.0.0.0 --port $PORT
      environment_slug: python
      instance_count: 1
      instance_size_slug: basic-xxs
      http_port: 8080
      health_check:
        http_path: /health
      envs:
        - key: DATABASE_URL
          value: ${dev-db.DATABASE_URL}
          scope: RUN_TIME
          type: SECRET
        - key: ADMIN_USERNAME
          value: ${ADMIN_USERNAME}
          scope: RUN_TIME
          type: GENERAL
        - key: ADMIN_PASSWORD
          value: ${ADMIN_PASSWORD}
          scope: RUN_TIME
          type: SECRET
